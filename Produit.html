<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FarmsConnect Marketplace</title>
    <link rel="icon" type="image/png" href="img/FarmsConnect.jpg"> <!-- Chemin vers votre image -->
    <link rel="stylesheet" href="Produit.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script type="text/javascript" src="cordova.js"></script>

</head>
<body>
    <header class="header">
        <div class="logo-container">
            <h2 class="logo">Produits</h2>
            <h4>Certifier par FarmsConnect</h4>
        </div>
        <nav class="nav">
            <input type="checkbox" id="menu-toggle" class="menu-toggle">
            <label for="menu-toggle" class="menu-icon">
                <span></span>
                <span></span>
                <span></span>
            </label>
            <ul class="nav-list">
                <li><a href="Acceuil.html">Accueil</a></li>
                <li><a href="Vente.html">Vendre</a></li>
                <li><a href="Visiteur.html">Visiter</a></li>
                <li><a href="Produit.html">Acheter Avec FarmsConnect</a></li>
                <li><a href="apropos.html">Ã€ propos</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="Formations.html">VidÃ©os Formation</a></li>
                </ul>
        </nav>
        <div class="image-container">
            <img src="img/FarmsConnect.jpg" alt="Farms Connect" class="header-image">
        </div>
    </header>
                
  
    <button id="refreshButton">RafraÃ®chir la page</button>

    <script>
        // Attacher un Ã©vÃ©nement de clic au bouton
        document.getElementById('refreshButton').addEventListener('click', function() {
            // RafraÃ®chir la page lorsque le bouton est cliquÃ©
            location.reload();
        });
    </script>



<!-- Message de chargement -->
<div id="loadingMessage" class="hidden">
    <div class="spinner-container">
        <img src="img/FarmsConnect.jpg" alt="Chargement" class="spinner-image" />
        <div class="spinner"></div>
    </div>
    <p class="loading-text">Veuillez patienter...</p> 
</div>


<script>
window.onload = function() {
    // Afficher le message de chargement dÃ¨s que la page est chargÃ©e
    var loadingMessage = document.getElementById('loadingMessage');
    loadingMessage.classList.remove('hidden');  // Afficher le message de chargement

    // Masquer le message de chargement aprÃ¨s 5 secondes (5000 ms)
    setTimeout(function() {
        loadingMessage.classList.add('hidden');  // Cacher le message de chargement
    }, 2700);  // Temps en millisecondes
};

</script>





<section class="categories">
    <div class="category-list">
        <button onclick="showCategory('poulet-local')">Poulet Local</button>
        <button onclick="showCategory('poulet-chair')">Poulet de Chair</button>
        <button onclick="showCategory('poulet-ameliore')">Poulet AmÃ©liorÃ©</button>
        <button onclick="showCategory('poule-pondeuse')">Poule Pondeuse</button>
        <button onclick="showCategory('coq-local')">Coq Local</button>
        <button onclick="showCategory('coq-local-ameliore')">Coq Local AmÃ©liorÃ©</button>
        <button onclick="showCategory('pintade-male')">Pintade Male</button>
        <button onclick="showCategory('pintade-femelle')">Pintade Femelle</button>
        <button onclick="showCategory('dindon')">Dindon</button>
        <button onclick="showCategory('canard')">Canard</button>
        <button onclick="showCategory('caille')">Caille</button>
        <button onclick="showCategory('lapin')">Lapin</button>
    </div>
</section>

<button class="open-modal-button">Note Importante aux Acheteurs</button>

<!-- FenÃªtre modale -->
<div id="modal" class="modal hidden">
    <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>ğŸ”” Note Importante aux Acheteurs ğŸ“¦</h2>
        <p><strong>Chers acheteurs,</strong></p>
        <p>
            Nous vous remercions sincÃ¨rement pour votre confiance et pour avoir choisi de faire vos achats sur <strong>FarmsConnect ğŸŒ±</strong>. Nous souhaitons vous fournir quelques informations importantes concernant la certification et la livraison de vos produits :
        </p>
        <ol>
            <li>
                <strong>ğŸ©º Certification vÃ©tÃ©rinaire des produits</strong><br>
                Avant chaque livraison, nos produits subissent une inspection minutieuse effectuÃ©e par un vÃ©tÃ©rinaire agrÃ©Ã©. Cette Ã©tape est essentielle pour garantir la qualitÃ© et la sÃ©curitÃ© des produits que vous recevez.
            </li>
            <li>
                <strong>âœ”ï¸ ContrÃ´les de qualitÃ©</strong><br>
                Nos vÃ©tÃ©rinaires s'assurent de la santÃ© des animaux et de la conformitÃ© des produits avant qu'ils ne soient expÃ©diÃ©s Ã  votre adresse.
            </li>
            <li>
                <strong>ğŸšš Livraison</strong><br>
                Une fois la certification validÃ©e, nous nous chargeons de la livraison de vos produits directement Ã  votre domicile.
            </li>
        </ol>
        <p>
            <strong>Nous mettons un point d'honneur Ã  vous fournir des produits de qualitÃ©, tout en garantissant votre sÃ©curitÃ© ğŸ›¡ï¸.</strong>
        </p>
        <p>Pour toute question ou besoin d'assistance, notre service client est disponible et prÃªt Ã  vous aider ğŸ¤.</p>

        <strong>âš ï¸ Attention !</strong><br>
        Lorsque le poids du produit choisi dÃ©passe le poids de base, le prix sera ajustÃ© en fonction de la diffÃ©rence de poids. Par exemple, chaque kilogramme supplÃ©mentaire entraÃ®nera un supplÃ©ment en fonction du tarif par kilogramme. Cela signifie que plus le poids du produit est Ã©levÃ©, plus le prix final augmentera. ğŸ’¡<br><br>

        <table border="1" cellpadding="10">
            <thead>
                <tr>
                    <th>Nom du produit</th>
                    <th>Prix (en FCFA)</th>
                    <th>Poids Brut (kg)</th>
                    <th>Prix par kg (en FCFA)</th>
                    <th>Frais d'abattage par unitÃ© (en FCFA)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Poulet local ğŸ”</td>
                    <td>3000</td>
                    <td>2</td>
                    <td>750</td>
                    <td>100</td>
                </tr>
                <tr>
                    <td>Poulet de chair ğŸ—</td>
                    <td>3200</td>
                    <td>2</td>
                    <td>800</td>
                    <td>100</td>
                </tr>
                <tr>
                    <td>Poulet amÃ©liorÃ© ğŸ”âœ¨</td>
                    <td>3600</td>
                    <td>2</td>
                    <td>700</td>
                    <td>100</td>
                </tr>
                <tr>
                    <td>Poule pondeuse ğŸ¥š</td>
                    <td>3800</td>
                    <td>2</td>
                    <td>700</td>
                    <td>100</td>
                </tr>
                <tr>
                    <td>Canard ğŸ¦†</td>
                    <td>4500</td>
                    <td>3</td>
                    <td>750</td>
                    <td>300</td>
                </tr>
                <tr>
                    <td>Lapin ğŸ‡</td>
                    <td>3000</td>
                    <td>3</td>
                    <td>850</td>
                    <td>500</td>
                </tr>
                <tr>
                    <td>Caille ğŸ£</td>
                    <td>1500</td>
                    <td>0.5</td>
                    <td>1200</td>
                    <td>90</td>
                </tr>
                <tr>
                    <td>Dindon ğŸ¦ƒ</td>
                    <td>5000</td>
                    <td>4</td>
                    <td>1000</td>
                    <td>300</td>
                </tr>
                <tr>
                    <td>Pintade femelle ğŸ¦</td>
                    <td>4300</td>
                    <td>2.5</td>
                    <td>750</td>
                    <td>150</td>
                </tr>
                <tr>
                    <td>Pintade mÃ¢le ğŸ¦œ</td>
                    <td>4200</td>
                    <td>2.5</td>
                    <td>770</td>
                    <td>150</td>
                </tr>
                <tr>
                    <td>Coq local amÃ©liorÃ© ğŸ“</td>
                    <td>3700</td>
                    <td>2.5</td>
                    <td>720</td>
                    <td>100</td>
                </tr>
                <tr>
                    <td>Coq local ğŸ”</td>
                    <td>3500</td>
                    <td>2.5</td>
                    <td>730</td>
                    <td>100</td>
                </tr>
            </tbody>
        </table>

        <p class="signature">Cordialement,<br><em>Lâ€™Ã©quipe FarmsConnect ğŸŒ±</em></p>
    </div>
</div>




<section class="products" id="product-display">
    <div class="product-list" id="product-list">

        <!-- Poulet Local -->
        <div class="product poulet-local">
            <img src="img/local.jpg" alt="Poulet Local">
            <h3>Poule Local</h3>
            <div class="price-info">
                <p id="price-poulet-local"><strong>Prix unitaire:</strong> 3000 FCFA</p>
                <p><strong>Frais supplÃ©mentaires :</strong></p>
                <ul style="font-size: 16px; line-height: 1.8; color: #333; list-style: none; padding-left: 0;">
                    <li>ğŸ”¹ <strong>Frais:</strong> 4% de la somme totale</li>
                    <li>ğŸ”§ <strong>Traitement :</strong> 400 FCFA (prix fixe)</li>
                    <li>ğŸ”ª <strong>Abattage :</strong> 100 FCFA (si choisi)</li>
                </ul>
                <br>
            </div>
            <br>
           
            <label for="quantity-poulet-local">QuantitÃ©:</label>
            <input type="number" id="quantity-poulet-local" min="1" value="0">
            <label for="weight-poulet-local">Poids (Par defaut : 2kg)</label>
            <input type="number" id="weight-poulet-local" min="0.1" step="0.1" value="2">

            <!-- Options de traitement -->
            <label for="option-traitement-poulet-local">Traitement:</label>
            <select id="option-traitement-poulet-local" onchange="updateAbattageOptions('poulet-local')">
                <option value="vivant">ğŸ” Vivant</option>
                <option value="abattu">ğŸ”ª Abattu</option>
            </select>

            <!-- Options pour l'abattage -->
            <div id="abattage-options-poulet-local" style="display: none;">
                <label for="abattage-type-poulet-local">Type d'abattage:</label>
                <select id="abattage-type-poulet-local">
                    <option value="halal">ğŸ•Œ Halal</option>
                    <option value="peu-importe">ğŸ¤· Sans prÃ©fÃ©rence</option>
                </select>
            </div>
            <button id="loginButton" onclick="acheterProduit('Poulet Local', 3000, 'quantity-poulet-local', 'weight-poulet-local', 'option-traitement-poulet-local', 'abattage-type-poulet-local')">Acheter ğŸ›’</button>
        </div>

        <!-- Poulet de Chair -->
        <div class="product poulet-chair">
            <img src="img/Chair.jpg" alt="Poulet de Chair">
            <h3>Poulet de Chair</h3>
            <div class="price-info">
                <p id="price-poulet-chair"><strong>Prix unitaire:</strong> 3200 FCFA</p>
                <p><strong>Frais supplÃ©mentaires :</strong></p>
                <ul style="font-size: 16px; line-height: 1.8; color: #333; list-style: none; padding-left: 0;">
                    <li>ğŸ”¹ <strong>Frais:</strong> 4% de la somme totale</li>
                    <li>ğŸ”§ <strong>Traitement :</strong> 400 FCFA (prix fixe)</li>
                    <li>ğŸ”ª <strong>Abattage :</strong> 100 FCFA (si choisi)</li>
                </ul>
                <br>
            </div>
            <br>
            <label for="quantity-poulet-chair">QuantitÃ©:</label>
            <input type="number" id="quantity-poulet-chair" min="1" value="0">
            <label for="weight-poulet-chair">Poids (Par defaut : 2kg)</label>
            <input type="number" id="weight-poulet-chair" min="0.1" step="0.1" value="2">

            <!-- Options de traitement -->
            <label for="option-traitement-poulet-chair">Traitement:</label>
            <select id="option-traitement-poulet-chair" onchange="updateAbattageOptions('poulet-chair')">
                <option value="vivant">ğŸ” Vivant</option>
                <option value="abattu">ğŸ”ª Abattu</option>
            </select>

            <!-- Options pour l'abattage -->
            <div id="abattage-options-poulet-chair" style="display: none;">
                <label for="abattage-type-poulet-chair">Type d'abattage:</label>
                <select id="abattage-type-poulet-chair">
                    <option value="halal">ğŸ•Œ Halal</option>
                    <option value="peu-importe">ğŸ¤· Sans prÃ©fÃ©rence</option>
                </select>
            </div>

            <button id="loginButton" onclick="acheterProduit('poulet chair', 3200, 'quantity-poulet-chair', 'weight-poulet-chair', 'option-traitement-poulet-chair', 'abattage-type-poulet-chair')">Acheter ğŸ›’</button>
        </div>

        <!-- Poulet AmÃ©liorÃ© -->
        <div class="product poulet-ameliore">
            <img src="img/ameliorer.jpg" alt="Poulet AmÃ©liorÃ©">
            <h3>Poule Local AmÃ©liorÃ©</h3>
            <div class="price-info">
                <p id="price-poulet-ameliore"><strong>Prix unitaire:</strong> 3600 FCFA</p>
                <p><strong>Frais supplÃ©mentaires :</strong></p>
                <ul style="font-size: 16px; line-height: 1.8; color: #333; list-style: none; padding-left: 0;">
                    <li>ğŸ”¹ <strong>Frais:</strong> 4% de la somme totale</li>
                    <li>ğŸ”§ <strong>Traitement :</strong> 400 FCFA (prix fixe)</li>
                    <li>ğŸ”ª <strong>Abattage :</strong> 100 FCFA (si choisi)</li>
                <br>
            </div>
            <label for="quantity-poulet-ameliore">QuantitÃ©:</label>
            <input type="number" id="quantity-poulet-ameliore" min="1" value="0">
            <label for="weight-poulet-ameliore">Poids (Par defaut : 2kg)</label>
            <input type="number" id="weight-poulet-ameliore" min="0.1" step="0.1" value="2">

            <!-- Options de traitement -->
            <label for="option-traitement-poulet-ameliore">Traitement:</label>
            <select id="option-traitement-poulet-ameliore" onchange="updateAbattageOptions('poulet-ameliore')">
                <option value="vivant">ğŸ” Vivant</option>
                <option value="abattu">ğŸ”ª Abattu</option>
            </select>

            <!-- Options pour l'abattage -->
            <div id="abattage-options-poulet-ameliore" style="display: none;">
                <label for="abattage-type-poulet-ameliore">Type d'abattage:</label>
                <select id="abattage-type-poulet-ameliore">
                    <option value="halal">ğŸ•Œ Halal</option>
                    <option value="peu-importe">ğŸ¤· Sans prÃ©fÃ©rence</option>
                </select>
            </div>

            <button id="loginButton" onclick="acheterProduit('poulet ameliore', 3600, 'quantity-poulet-ameliore', 'weight-poulet-ameliore', 'option-traitement-poulet-ameliore', 'abattage-type-poulet-ameliore')">Acheter ğŸ›’</button>
        </div>

        <!-- Poule Pondeuse -->
        <div class="product poule-pondeuse">
            <img src="img/pondeuse.jpg" alt="Poule Pondeuse">
            <h3>Poule Pondeuse</h3>
            <div class="price-info">
                <p id="price-poule-pondeuse"><strong>Prix unitaire:</strong> 3800 FCFA</p>
                <p><strong>Frais supplÃ©mentaires :</strong></p>
                <ul style="font-size: 16px; line-height: 1.8; color: #333; list-style: none; padding-left: 0;">
                    <li>ğŸ”¹ <strong>Frais:</strong> 4% de la somme totale</li>
                    <li>ğŸ”§ <strong>Traitement :</strong> 400 FCFA (prix fixe)</li>
                    <li>ğŸ”ª <strong>Abattage :</strong> 100 FCFA (si choisi)</li>
                </ul>
                <br>
            </div>
            <label for="quantity-poule-pondeuse">QuantitÃ©:</label>
            <input type="number" id="quantity-poule-pondeuse" min="1" value="0">
            <label for="weight-poule-pondeuse">Poids (Par defaut : 2kg)</label>
            <input type="number" id="weight-poule-pondeuse" min="0.1" step="0.1" value="2">

            <!-- Options de traitement -->
            <label for="option-traitement-poule-pondeuse">Traitement:</label>
            <select id="option-traitement-poule-pondeuse" onchange="updateAbattageOptions('poule-pondeuse')">
                <option value="vivant">ğŸ” Vivant</option>
                <option value="abattu">ğŸ”ª Abattu</option>
            </select>

            <!-- Options pour l'abattage -->
            <div id="abattage-options-poule-pondeuse" style="display: none;">
                <label for="abattage-type-poule-pondeuse">Type d'abattage:</label>
                <select id="abattage-type-poule-pondeuse">
                    <option value="halal">ğŸ•Œ Halal</option>
                    <option value="peu-importe">ğŸ¤· Sans prÃ©fÃ©rence</option>
                </select>
            </div>

            <button id="loginButton" onclick="acheterProduit('Poule Pondeuse', 3800, 'quantity-poule-pondeuse', 'weight-poule-pondeuse', 'option-traitement-poule-pondeuse', 'abattage-type-poule-pondeuse')">Acheter ğŸ›’</button>
        </div>


 <!-- Coq Local -->
 <div class="product coq-local">
    <img src="img/Coq.jpg" alt="Coq Local">
    <h3>Coq Local</h3>
    <div class="price-info">
        <p><strong>Prix unitaire:</strong> 3500 FCFA</p>
        <p><strong>Frais supplÃ©mentaires :</strong></p>
        <ul>
            <li>ğŸ”¹ <strong>Frais:</strong> 4% de la somme totale</li>
            <li>ğŸ”§ <strong>Traitement :</strong> 400 FCFA (prix fixe)</li>
            <li>ğŸ”ª <strong>Abattage :</strong> 100 FCFA (si choisi)</li>
        </ul>
        <br>
    </div>
    <label for="quantity-coq-local">QuantitÃ©:</label>
    <input type="number" id="quantity-coq-local" min="1" value="0">
    <label for="weight-coq-local">Poids (Par defaut : 2.5kg)</label>
    <input type="number" id="weight-coq-local" min="0.1" step="0.1" value="2.5">
    <label for="option-traitement-coq-local">Traitement:</label>
    <select id="option-traitement-coq-local" onchange="updateAbattageOptions('coq-local')">
        <option value="vivant">ğŸ” Vivant</option>
        <option value="abattu">ğŸ”ª Abattu</option>
    </select>
    <div id="abattage-options-coq-local" style="display: none;">
        <label for="abattage-type-coq-local">Type d'abattage:</label>
        <select id="abattage-type-coq-local" >
            <option value="halal">ğŸ•Œ Halal</option>
            <option value="peu-importe">ğŸ¤· Sans prÃ©fÃ©rence</option>
        </select>
    </div>
    <button onclick="acheterProduit('Coq Local', 3500, 'quantity-coq-local', 'weight-coq-local', 'option-traitement-coq-local', 'abattage-type-coq-local')">Acheter ğŸ›’</button>
</div>

<!-- Coq Local AmÃ©liorÃ© -->
<div class="product coq-local-ameliore">
    <img src="img/Coq.jpg" alt="Coq Local AmÃ©liorÃ©">
    <h3>Coq Local AmÃ©liorÃ©</h3>
    <div class="price-info">
        <p><strong>Prix unitaire:</strong> 3700 FCFA</p>
        <p><strong>Frais supplÃ©mentaires :</strong></p>
        <ul>
            <li>ğŸ”¹ <strong>Frais:</strong> 4% de la somme totale</li>
            <li>ğŸ”§ <strong>Traitement :</strong> 400 FCFA (prix fixe)</li>
            <li>ğŸ”ª <strong>Abattage :</strong> 100 FCFA (si choisi)</li>
        </ul>
        <br>
    </div>
    <label for="quantity-coq-local-ameliore">QuantitÃ©:</label>
    <input type="number" id="quantity-coq-local-ameliore" min="1" value="0">
    <label for="weight-coq-local-ameliore">Poids (Par defaut : 2.5kg)</label>
    <input type="number" id="weight-coq-local-ameliore" min="0.1" step="0.1" value="2.5">
    <label for="option-traitement-coq-local-ameliore">Traitement:</label>
    <select id="option-traitement-coq-local-ameliore" onchange="updateAbattageOptions('coq-local-ameliore')">
        <option value="vivant">ğŸ” Vivant</option>
        <option value="abattu">ğŸ”ª Abattu</option>
    </select>
    <div id="abattage-options-coq-local-ameliore" style="display: none;">
        <label for="abattage-type-coq-local-ameliore">Type d'abattage:</label>
        <select id="abattage-type-coq-local-ameliore" >
            <option value="halal">ğŸ•Œ Halal</option>
            <option value="peu-importe">ğŸ¤· Sans prÃ©fÃ©rence</option>
        </select>
    </div>
    <button onclick="acheterProduit('Coq local ameliore', 3700, 'quantity-coq-local-ameliore', 'weight-coq-local-ameliore', 'option-traitement-coq-local-ameliore', 'abattage-type-coq-local-ameliore')">Acheter ğŸ›’</button>
</div>

<!-- Pintade Male -->
<div class="product pintade-male">
    <img src="img/pintade.jpg" alt="Pintade Male">
    <h3>Pintade Male</h3>
    <div class="price-info">
        <p><strong>Prix unitaire:</strong> 4200 FCFA</p>
        <p><strong>Frais supplÃ©mentaires :</strong></p>
        <ul>
            <li>ğŸ”¹ <strong>Frais:</strong> 4% de la somme totale</li>
            <li>ğŸ”§ <strong>Traitement :</strong> 400 FCFA (prix fixe)</li>
            <li>ğŸ”ª <strong>Abattage :</strong> 150 FCFA (si choisi)</li>
        </ul>
        <br>
    </div>
    <label for="quantity-pintade-male">QuantitÃ©:</label>
    <input type="number" id="quantity-pintade-male" min="1" value="0">
    <label for="weight-pintade-male">Poids (Par defaut : 2.5kg)</label>
    <input type="number" id="weight-pintade-male" min="0.1" step="0.1" value="2.5">
    <label for="option-traitement-pintade-male">Traitement:</label>
    <select id="option-traitement-pintade-male" onchange="updateAbattageOptions('pintade-male')">
        <option value="vivant">ğŸ” Vivant</option>
        <option value="abattu">ğŸ”ª Abattu</option>
    </select>
    <div id="abattage-options-pintade-male" style="display: none;">
        <label for="abattage-type-pintade-male">Type d'abattage:</label>
        <select id="abattage-type-pintade-male" >
            <option value="halal">ğŸ•Œ Halal</option>
            <option value="peu-importe">ğŸ¤· Sans prÃ©fÃ©rence</option>
        </select>
    </div>
    <button onclick="acheterProduit('Pintade Male', 4200, 'quantity-pintade-male', 'weight-pintade-male', 'option-traitement-pintade-male', 'abattage-type-pintade-male')">Acheter ğŸ›’</button>
</div>

<!-- Pintade Femelle -->
<div class="product pintade-femelle">
    <img src="img/pintade.jpg" alt="Pintade Femelle">
    <h3>Pintade Femelle</h3>
    <div class="price-info">
        <p><strong>Prix unitaire:</strong> 4300 FCFA</p>
        <p><strong>Frais supplÃ©mentaires :</strong></p>
        <ul>
            <li>ğŸ”¹ <strong>Frais:</strong> 4% de la somme totale</li>
            <li>ğŸ”§ <strong>Traitement :</strong> 400 FCFA (prix fixe)</li>
            <li>ğŸ”ª <strong>Abattage :</strong> 150 FCFA (si choisi)</li>
        </ul>
        <br>
    </div>
    <label for="quantity-pintade-femelle">QuantitÃ©:</label>
    <input type="number" id="quantity-pintade-femelle" min="1" value="0">
    <label for="weight-pintade-femelle">Poids (Par defaut : 2.5kg)</label>
    <input type="number" id="weight-pintade-femelle" min="0.1" step="0.1" value="2.5">
    <label for="option-traitement-pintade-femelle">Traitement:</label>
    <select id="option-traitement-pintade-femelle" onchange="updateAbattageOptions('pintade-femelle')">
        <option value="vivant">ğŸ” Vivant</option>
        <option value="abattu">ğŸ”ª Abattu</option>
    </select>
    <div id="abattage-options-pintade-femelle" style="display: none;">
        <label for="abattage-type-pintade-femelle">Type d'abattage:</label>
        <select id="abattage-type-pintade-femelle" >
            <option value="halal">ğŸ•Œ Halal</option>
            <option value="peu-importe">ğŸ¤· Sans prÃ©fÃ©rence</option>
        </select>
    </div>
    <button onclick="acheterProduit('Pintade Femelle', 4300, 'quantity-pintade-femelle', 'weight-pintade-femelle', 'option-traitement-pintade-femelle', 'abattage-type-pintade-femelle')">Acheter ğŸ›’</button>
</div>

<!-- Dindon -->
<div class="product dindon">
    <img src="img/Dinde.jpg" alt="Dindon">
    <h3>Dindon</h3>
    <div class="price-info">
        <p><strong>Prix unitaire:</strong> 5000 FCFA</p>
        <p><strong>Frais supplÃ©mentaires :</strong></p>
        <ul>
            <li>ğŸ”¹ <strong>Frais:</strong> 4% de la somme totale</li>
            <li>ğŸ”§ <strong>Traitement :</strong> 400 FCFA (prix fixe)</li>
            <li>ğŸ”ª <strong>Abattage :</strong> 300 FCFA (si choisi)</li>
        </ul>
        <br>
    </div>
    <label for="quantity-dindon">QuantitÃ©:</label>
    <input type="number" id="quantity-dindon" min="1" value="0">
    <label for="weight-dindon">Poids (Par defaut : 4kg)</label>
    <input type="number" id="weight-dindon" min="0.1" step="0.1" value="4">
    <label for="option-traitement-dindon">Traitement:</label>
    <select id="option-traitement-dindon" onchange="updateAbattageOptions('dindon')">
        <option value="vivant">ğŸ¦ƒ Vivant</option>
        <option value="abattu">ğŸ”ª Abattu</option>
    </select>
    <div id="abattage-options-dindon" style="display: none;">
        <label for="abattage-type-dindon">Type d'abattage:</label>
        <select id="abattage-type-dindon" >
            <option value="halal">ğŸ•Œ Halal</option>
            <option value="peu-importe">ğŸ¤· Sans prÃ©fÃ©rence</option>
        </select>
    </div>
    <button onclick="acheterProduit('Dindon', 5000, 'quantity-dindon', 'weight-dindon', 'option-traitement-dindon', 'abattage-type-dindon')">Acheter ğŸ›’</button>
 </div>

 <!-- Caille -->
 <div class="product caille">
    <img src="img/cailles.jpg" alt="Caille">
    <h3>Caille</h3>
    <div class="price-info">
        <p><strong>Prix unitaire:</strong> 1500 FCFA</p>
        <p><strong>Frais supplÃ©mentaires :</strong></p>
        <ul>
            <li>ğŸ”¹ <strong>Frais:</strong> 4% de la somme totale</li>
            <li>ğŸ”§ <strong>Traitement :</strong> 400 FCFA (prix fixe)</li>
            <li>ğŸ”ª <strong>Abattage :</strong> 90 FCFA (si choisi)</li>
        </ul>
        <br>
    </div>
    <label for="quantity-caille">QuantitÃ©:</label>
    <input type="number" id="quantity-caille" min="1" value="0">
    <label for="weight-caille">Poids (Par defaut : 0.5kg)</label>
    <input type="number" id="weight-caille" min="0.1" step="0.1" value="0.5">
    <label for="option-traitement-caille">Traitement:</label>
    <select id="option-traitement-caille" onchange="updateAbattageOptions('caille')">
        <option value="vivant">ğŸ¦ Vivant</option>
        <option value="abattu">ğŸ”ª Abattu</option>
    </select>
    <div id="abattage-options-caille" style="display: none;">
        <label for="abattage-type-caille">Type d'abattage:</label>
        <select id="abattage-type-caille" >
            <option value="halal">ğŸ•Œ Halal</option>
            <option value="peu-importe">ğŸ¤· Sans prÃ©fÃ©rence</option>
        </select>
    </div>
    <button onclick="acheterProduit('Caille', 1500, 'quantity-caille', 'weight-caille', 'option-traitement-caille', 'abattage-type-caille')">Acheter ğŸ›’</button>
 </div>

 <!-- Lapin -->
 <div class="product lapin">
    <img src="img/lapins.jpg" alt="Lapin">
    <h3>Lapin</h3>
    <div class="price-info">
        <p><strong>Prix unitaire:</strong> 3000 FCFA</p>
        <p><strong>Frais supplÃ©mentaires :</strong></p>
        <ul>
            <li>ğŸ”¹ <strong>Frais:</strong> 4% de la somme totale</li>
            <li>ğŸ”§ <strong>Traitement :</strong> 400 FCFA (prix fixe)</li>
            <li>ğŸ”ª <strong>Abattage :</strong> 500 FCFA (si choisi)</li>
        </ul>
        <br>
    </div>
    <label for="quantity-lapin">QuantitÃ©:</label>
    <input type="number" id="quantity-lapin" min="1" value="0">
    <label for="weight-lapin">Poids (Par defaut : 3kg)</label>
    <input type="number" id="weight-lapin" min="0.1" step="0.1" value="3">
    <label for="option-traitement-lapin">Traitement:</label>
    <select id="option-traitement-lapin" onchange="updateAbattageOptions('lapin')">
        <option value="vivant">ğŸ‡ Vivant</option>
        <option value="abattu">ğŸ”ª Abattu</option>
    </select>
    <div id="abattage-options-lapin" style="display: none;">
        <label for="abattage-type-lapin">Type d'abattage:</label>
        <select id="abattage-type-lapin" >
            <option value="halal">ğŸ•Œ Halal</option>
            <option value="peu-importe">ğŸ¤· Sans prÃ©fÃ©rence</option>
        </select>
    </div>
    <button onclick="acheterProduit('Lapin', 3000, 'quantity-lapin', 'weight-lapin', 'option-traitement-lapin', 'abattage-type-lapin')">Acheter ğŸ›’</button>
 </div>
 


 <!-- Canard -->
<div class="product canard">
    <img src="img/canard.jpg" alt="Canard">
    <h3>Canard</h3>
    <div class="price-info">
        <p id="price-canard"><strong>Prix unitaire:</strong> 4500 FCFA</p>
        <p><strong>Frais supplÃ©mentaires :</strong></p>
        <ul style="font-size: 16px; line-height: 1.8; color: #333; list-style: none; padding-left: 0;">
            <li>ğŸ”¹ <strong>Frais:</strong> 4% de la somme totale</li>
            <li>ğŸ”§ <strong>Traitement :</strong> 400 FCFA (prix fixe)</li>
            <li>ğŸ”ª <strong>Abattage :</strong> 300 FCFA (si choisi)</li>
        </ul>
        <br>
    </div>
    <label for="quantity-canard">QuantitÃ©:</label>
    <input type="number" id="quantity-canard" min="1" value="0">
    <label for="weight-canard">Poids (Par defaut : 3kg)</label>
    <input type="number" id="weight-canard" min="0.1" step="0.1" value="3">

    <!-- Options de traitement -->
    <label for="option-traitement-canard">Traitement:</label>
    <select id="option-traitement-canard" onchange="updateAbattageOptions('canard')">
        <option value="vivant">ğŸ¦† Vivant</option>
        <option value="abattu">ğŸ”ª Abattu</option>
    </select>

    <!-- Options pour l'abattage -->
    <div id="abattage-options-canard" style="display: none;">
        <label for="abattage-type-canard">Type d'abattage:</label>
        <select id="abattage-type-canard" >
            <option value="halal">ğŸ•Œ Halal</option>
            <option value="peu-importe">ğŸ¤· Sans prÃ©fÃ©rence</option>
        </select>
    </div>

    <button id="loginButton" onclick="acheterProduit('Canard', 4500, 'quantity-canard', 'weight-canard', 'option-traitement-canard', 'abattage-type-canard')">Acheter ğŸ›’</button>
</div>



    </div>
</section>





<!-- Message de chargement -->
<div id="loadingMessage1" class="hidden1">
    <div class="spinner-container1">
        <img src="img/FarmsConnect.jpg" alt="Chargement" class="spinner-image1" />
        <div class="spinner1"></div>
    </div>
    <p class="loading-text1">Traitement ...</p>
</div>



<script>
function updateAbattageOptions(produit) {
    const traitementElement = document.getElementById(`option-traitement-${produit}`);
    const abattageOptionsElement = document.getElementById(`abattage-options-${produit}`);

    if (traitementElement && abattageOptionsElement) {
        if (traitementElement.value === "abattu") {
            abattageOptionsElement.style.display = "block";
        } else {
            abattageOptionsElement.style.display = "none";
        }
    }
}
</script>
  

<script>

</script>



<script>
function updatePrixProduit(produit, quantityId, weightId, totalId, traitementId) {
    const quantity = parseInt(document.getElementById(quantityId).value) || 0;
    const weight = parseFloat(document.getElementById(weightId).value) || 0;

    if (quantity <= 0) {
        document.getElementById(totalId).textContent = "Prix Total Ã  payer : 0 FCFA";
        return;
    }

    // Calcul du prix de base (quantitÃ© x prix unitaire)
    let totalBase = quantity * produit.prix;

    // Calcul des frais supplÃ©mentaires (exemple : 4% du total + 400 FCFA)
    let fraisSupplementaires = (totalBase * 0.04) + 400;

    // Calcul de l'ajustement basÃ© sur le poids
    const poidsSupplementaire = Math.max(0, weight - produit.poidsBase);
    const ajustementPoids = poidsSupplementaire * produit.prixParKg;

    // Calcul des frais d'abattage (spÃ©cifiques au produit)
    const traitementElement = document.getElementById(traitementId);
    let fraisAbattage = 0;

    if (traitementElement && traitementElement.value === "abattu") {
        const poulesAbattues = parseInt(
            prompt(`Combien de ${produit.nom} souhaitez-vous abattre ? Cela coÃ»te ${produit.fraisAbattageParUnite} FCFA par unitÃ©.`)
        );

        if (poulesAbattues > quantity) {
            alert("Vous ne pouvez pas abattre plus de produits que vous n'avez achetÃ©s. Veuillez vÃ©rifier votre quantitÃ©.");
        } else if (poulesAbattues > 0) {
            fraisAbattage = poulesAbattues * produit.fraisAbattageParUnite;
        }
    }

    // Calcul du prix final
    let prixFinal = totalBase + fraisSupplementaires + ajustementPoids + fraisAbattage;

    // Appliquer des remises basÃ©es sur la quantitÃ©
    if (quantity >= 20) {
        prixFinal *= 0.76; // 24% de rÃ©duction
    } else if (quantity >= 10) {
        prixFinal *= 0.87; // 13% de rÃ©duction
    } else if (quantity >= 5) {
        prixFinal *= 0.95; // 5% de rÃ©duction
    }

    // Affichage du prix total final
    document.getElementById(totalId).textContent = `Prix Total Ã  payer : ${prixFinal.toFixed(2)} FCFA`;
}

// Fonction qui initialise les Ã©couteurs d'Ã©vÃ©nements pour chaque produit
function initializeProductListeners() {
    const produits = [
        { nom: 'poulet-local', prix: 3000, poidsBase: 2, prixParKg: 750, fraisAbattageParUnite: 100 },
        { nom: 'poulet-chair', prix: 3200, poidsBase: 2, prixParKg: 800, fraisAbattageParUnite: 100 },
        { nom: 'poulet-ameliore', prix: 3600, poidsBase: 2, prixParKg: 700, fraisAbattageParUnite: 100 },
        { nom: 'poule-pondeuse', prix: 3800, poidsBase: 2, prixParKg: 700, fraisAbattageParUnite: 100 },
        { nom: 'canard', prix: 4500, poidsBase: 3, prixParKg: 750, fraisAbattageParUnite: 300 },
        { nom: 'lapin', prix: 3000, poidsBase: 3, prixParKg: 850, fraisAbattageParUnite: 500 },
        { nom: 'caille', prix: 1500, poidsBase: 0.5, prixParKg: 1200, fraisAbattageParUnite: 90 },
        { nom: 'dindon', prix: 5000, poidsBase: 4, prixParKg: 1000, fraisAbattageParUnite: 300 },
        { nom: 'pintade-femelle', prix: 4300, poidsBase: 2.5, prixParKg: 750, fraisAbattageParUnite: 150 },
        { nom: 'pintade-male', prix: 4200, poidsBase: 2.5, prixParKg: 770, fraisAbattageParUnite: 150 },
        { nom: 'coq-local-ameliore', prix: 3700, poidsBase: 2.5, prixParKg: 720, fraisAbattageParUnite: 100 },
        { nom: 'coq-local', prix: 3500, poidsBase: 2.5, prixParKg: 730, fraisAbattageParUnite: 100 }
    ];

    produits.forEach(produit => {
        const quantityId = `quantity-${produit.nom}`;
        const weightId = `weight-${produit.nom}`;
        const totalId = `total-${produit.nom}`;
        const traitementId = `option-traitement-${produit.nom}`;

        // CrÃ©e un Ã©lÃ©ment pour afficher le prix total si non existant
        const productElement = document.querySelector(`.product.${produit.nom}`);
        if (productElement) {
            if (!document.getElementById(totalId)) {
                const totalDiv = document.createElement("div");
                totalDiv.id = totalId;
                totalDiv.textContent = "Le Prix Total Ã  payer est de : 0 FCFA";
                productElement.appendChild(totalDiv);
            }
        } else {
            console.error(`L'Ã©lÃ©ment avec la classe '.product.${produit.nom}' est introuvable.`);
        }

        // Ajoute des Ã©couteurs d'Ã©vÃ©nements pour mettre Ã  jour le prix en temps rÃ©el
        document.getElementById(quantityId)?.addEventListener("input", () => {
            updatePrixProduit(produit, quantityId, weightId, totalId, traitementId);
        });

        document.getElementById(weightId)?.addEventListener("input", () => {
            updatePrixProduit(produit, quantityId, weightId, totalId, traitementId);
        });

        const traitementElement = document.getElementById(traitementId);
        traitementElement?.addEventListener("change", () => {
            updatePrixProduit(produit, quantityId, weightId, totalId, traitementId);
        });
    });
}
document.addEventListener('DOMContentLoaded', function() {
    initializeProductListeners();
});


function acheterProduit(nomProduit, prixUnitaire, quantityId, weightId) {


    const prod = [
        { nom: 'poulet-local', prix: 3000, poidsB: 2, prixPKg: 750, fraisAbattageParUnite: 100 },
        { nom: 'poulet-chair', prix: 3200, poidsB: 2, prixPKg: 800, fraisAbattageParUnite: 100 },
        { nom: 'poulet-ameliore', prix: 3600, poidsB: 2, prixPKg: 700, fraisAbattageParUnite: 100 },
        { nom: 'poule-pondeuse', prix: 3800, poidsB: 2, prixPKg: 700, fraisAbattageParUnite: 100 },
        { nom: 'canard', prix: 4500, poidsB: 3, prixPKg: 750, fraisAbattageParUnite: 300 },
        { nom: 'lapin', prix: 3000, poidsB: 3, prixPKg: 850, fraisAbattageParUnite: 500 },
        { nom: 'caille', prix: 1500, poidsB: 0.5, prixPKg: 1200, fraisAbattageParUnite: 90 },
        { nom: 'dindon', prix: 5000, poidsB: 4, prixPKg: 1000, fraisAbattageParUnite: 300 },
        { nom: 'pintade-femelle', prix: 4300, poidsB: 2.5, prixPKg: 750, fraisAbattageParUnite: 150 },
        { nom: 'pintade-male', prix: 4200, poidsB: 2.5, prixPKg: 770, fraisAbattageParUnite: 150 },
        { nom: 'coq-local-ameliore', prix: 3700, poidsB: 2.5, prixPKg: 720, fraisAbattageParUnite: 100 },
        { nom: 'coq-local', prix: 3500, poidsB: 2.5, prixPKg: 730, fraisAbattageParUnite: 100 }
    ];



 // Affiche tous les produits dans la console pour vÃ©rifier
 console.log("Produits disponibles:", prod);

// Nettoyage de l'entrÃ©e utilisateur (suppression des espaces et conversion en minuscules)
nomProduit = nomProduit.trim().toLowerCase().replace(/\s+/g, '-');  // Remplacer les espaces par des tirets

// Affiche la valeur de nomProduit pour le diagnostic
console.log("Nom du produit recherchÃ©:", nomProduit);

// Recherche du produit sans tenir compte de la casse
const produit = prod.find(p => p.nom.toLowerCase() === nomProduit.toLowerCase());

// DÃ©clarer prixuni en dehors du bloc if
let prixuni;

if (produit) {
    console.log("Produit trouvÃ©:", produit);
    prixuni = produit.prix; // Affecter la valeur du prix au moment de la recherche

// VÃ©rification de la validitÃ© des propriÃ©tÃ©s du produit
if (isNaN(produit.poidsB) || produit.poidsB <= 0) {
        console.error("Poids de base invalide : ", produit.poidsB);
        alert("Erreur : Poids de base invalide pour ce produit.");
        return;
    }
    if (isNaN(produit.prixPKg) || produit.prixPKg <= 0) {
        console.error("Prix par kilogramme invalide : ", produit.prixPKg);
        alert("Erreur : Prix par kilogramme invalide pour ce produit.");
        return;
    }

} else {
    console.error('Produit non trouvÃ©');
    alert('Produit non trouvÃ©');
    return;
}


// Fonction pour valider un email avec une expression rÃ©guliÃ¨re
function validateEmail(email) {
    const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
    return regex.test(email);
}

// Fonction pour valider un numÃ©ro de tÃ©lÃ©phone (assume un format simple)
function validatePhoneNumber(phone) {
    const regex = /^[0-8]{8}$/; // Exemple : doit Ãªtre un numÃ©ro Ã  8 chiffres
    return regex.test(phone);
}

// Demander les informations Ã  l'utilisateur
// Demander les informations Ã  l'utilisateur
let username;
do {
    username = prompt("NOM PRENOM");

    // Si l'utilisateur clique sur "Annuler", recharger la page
    if (username === null) {
        location.reload(); // RÃ©initialiser la page Ã  son Ã©tat initial
    }

    // VÃ©rifier si le champ est vide
    if (!username.trim()) {
        alert("Le nom d'utilisateur est requis.");
    }
} while (!username || !username.trim());


// Demander l'email et valider qu'il est valide
let email;
do {
    email = prompt("ADRESSE E-MAIL");

    // Si l'utilisateur clique sur "Annuler", recharger la page
    if (email === null) {
        location.reload(); // RÃ©initialiser la page Ã  son Ã©tat initial
    }

    // VÃ©rifier si l'email est valide
    if (!email || !validateEmail(email)) {
        alert("Veuillez entrer un e-mail valide.");
    }
} while (!email || !validateEmail(email));

// Demander la confirmation de l'email
let confirmEmail;
do {
    confirmEmail = prompt("CONFIRMER VORTE ADRESSE E-MAIL");
    if (email !== confirmEmail) {
        alert("Les adresses e-mail ne correspondent pas.");
    }
} while (email !== confirmEmail);

// Demander le numÃ©ro de contact principal et valider
let contact;
do {
    contact = prompt("NUMERO TELEPHONE (Fonctionnel)");
    if (!contact || !validatePhoneNumber(contact)) {
        alert("Veuillez entrer un numÃ©ro de tÃ©lÃ©phone valide Ã  8 chiffres.");
    }
} while (!contact || !validatePhoneNumber(contact));

// Demander un numÃ©ro secondaire (facultatif)
    secondaryContact = prompt("NUMERO TELEPHONE SECONDAIRE(facultatif)");
    // Si le champ est rempli, on valide

// Demander le quartier de rÃ©sidence
let residence;
do {
    residence = prompt("QUARTIER DE RESIDENCE");
    if (!residence) {
        alert("Le nom du quartier est requis.");
    }
} while (!residence);


const quantityElement = document.getElementById(quantityId);
const weightElement = document.getElementById(weightId);

if (!quantityElement || !weightElement) {
    console.error('Les Ã©lÃ©ments pour la quantitÃ© ou le poids sont introuvables');
    alert('Erreur : Ã©lÃ©ments introuvables.');
    return;
}

const quantity = parseInt(quantityElement.value, 10) || 0;
const weight = parseFloat(weightElement.value);

if (isNaN(quantity) || isNaN(weight)) {
    console.error('Valeurs de quantitÃ© ou de poids invalides');
    alert('Erreur : veuillez entrer des valeurs valides.');
    return;
}

 // VÃ©rifier si la quantitÃ© est valide
 if (quantity <= 0) {
        alert(`Veuillez saisir une quantitÃ© valide pour ${nomProduit}.`);
        return;
    }

// Calculer le poids total pour ce produit (quantitÃ© * poids)
const poidsProduit = quantity * weight;


// Si vous souhaitez additionner tous les poids pour obtenir un poids total global
// Vous pouvez crÃ©er une variable globale ou un autre mÃ©canisme pour le total global
if (typeof window.poidsTotal === "undefined") {
    window.poidsTotal = 0;  // Initialisation du poids total si ce n'est pas dÃ©jÃ  fait
}
window.poidsTotal += poidsProduit;

// Afficher le poids total global
console.log(`Poids total global: ${window.poidsTotal} kg`);



if (isNaN(prixuni)) {
    console.error('Prix unitaire invalide');
    alert('Le prix unitaire est invalide.');
    return;
}


// Vous pouvez ajouter d'autres actions ici, comme calculer le prix total ou afficher des informations supplÃ©mentaires

let total = quantity * prixuni ;

 // Afficher le total dans la console ou ailleurs
 console.log(`Produit: ${nomProduit}`);
    console.log(`Prix unitaire: ${prixuni} FCFA`);
    console.log(`QuantitÃ©: ${quantity}`);
    console.log(`Total: ${total} FCFA`);

let fraisSupplementaires = (total * 0.04) + 400;

// VÃ©rification de la validitÃ© des variables avant le calcul
if (isNaN(weight) || weight <= 0) {
    console.error("Poids invalide : ", weight);
    alert("Erreur : Poids invalide.");
    return;
}

if (isNaN(produit.poidsB) || produit.poidsB <= 0) {
    console.error("Poids de base invalide : ", produit.poidsB);
    alert("Erreur : Poids de base invalide.");
    return;
}

if (isNaN(produit.prixPKg) || produit.prixPKg <= 0) {
    console.error("Prix par kilogramme invalide : ", produit.prixPKg);
    alert("Erreur : Prix par kilogramme invalide.");
    return;
}

// Calcul de l'ajustement basÃ© sur le poids
const poidsSupplementaire = Math.max(0, weight - produit.poidsB);
const ajustementPoids = poidsSupplementaire * produit.prixPKg;

// Affichage du calcul d'ajustement
console.log("Poids supplÃ©mentaire : ", poidsSupplementaire);
console.log("Ajustement du poids : ", ajustementPoids);


// DÃ©finir la variable traitement avant de l'utiliser
function normalizeId(nomProduit) {
    return nomProduit.toLowerCase().replace(/\s+/g, '-');
}

const produitId = `option-traitement-${normalizeId(nomProduit)}`;
const traitementElement = document.getElementById(produitId);
if (!traitementElement) {
    console.error(`L'Ã©lÃ©ment avec l'ID ${produitId} est introuvable.`);
    return;
}

console.log('Produit sÃ©lectionnÃ© :', nomProduit);
console.log('ID recherchÃ© :', produitId);

const traitement = traitementElement.value;

let typeAbattage = null;
let fraisAbattage = 0; // Frais d'abattage initialisÃ©s Ã  0
let poulesAbattues = null; // DÃ©claration de la variable Ã  l'extÃ©rieur du bloc pour qu'elle soit accessible dans toute la fonction

if (traitementElement && traitementElement.value === "abattu") {
    // Demande Ã  l'utilisateur combien de poules il veut abattre
    poulesAbattues = parseInt(prompt("Veuillez confirmer le nombre de poules que vous voulez abattre."));

    // VÃ©rifier si la valeur entrÃ©e est un nombre valide
    if (isNaN(poulesAbattues)) {
        alert("Veuillez entrer un nombre valide.");
    } else if (poulesAbattues > quantity) {
        alert("Vous ne pouvez pas abattre plus de poules que celles que vous avez achetÃ©es. Veuillez vÃ©rifier la quantitÃ© renseignÃ©e.");
    } else if (poulesAbattues < 1) {
        alert("Le nombre de poules abattues doit Ãªtre supÃ©rieur Ã  zÃ©ro. Veuillez entrer un nombre valide.");
    } else {
        // Si le nombre de poules abattues est valide
        fraisAbattage = poulesAbattues * produit.fraisAbattageParUnite; // Applique 100 FCFA par poule abattue
        alert(`Vous avez choisi d'abattre ${poulesAbattues} poules. Les frais d'abattage sont de ${fraisAbattage} FCFA.`);
    }
}

// VÃ©rification des valeurs avant de faire le calcul du prix final
if (isNaN(total)) {
    console.error("Le total est invalide");
    alert("Erreur : le total est invalide.");
    return;
}

if (isNaN(fraisSupplementaires)) {
    console.error("Les frais supplÃ©mentaires sont invalides");
    alert("Erreur : les frais supplÃ©mentaires sont invalides.");
    return;
}

if (isNaN(ajustementPoids)) {
    console.error("L'ajustement du poids est invalide");
    alert("Erreur : l'ajustement du poids est invalide.");
    return;
}

if (isNaN(fraisAbattage)) {
    console.error("Les frais d'abattage sont invalides");
    alert("Erreur : les frais d'abattage sont invalides.");
    return;
}

// Calcul du prix final
let prixFinal = total + fraisSupplementaires + ajustementPoids + fraisAbattage;

// Appliquer la remise en fonction de la quantitÃ©
if (quantity >= 20) {
    prixFinal *= 0.76; // 24% de remise
} else if (quantity >= 10) {
    prixFinal *= 0.87; // 13% de remise
} else if (quantity >= 5) {
    prixFinal *= 0.95; // 5% de remise
}

// VÃ©rifier si des options d'abattage sont affichÃ©es
if (traitement === "abattu") {
    typeAbattage = document.getElementById(`abattage-type-${normalizeId(nomProduit)}`).value;
}


const orderDetails = {
    username: username,
    email: email,
    quantity: quantity,
    weight: poidsProduit,
    price: prixFinal.toFixed(2), // Arrondir le prix total Ã  deux dÃ©cimales
    contact: contact,
    contact2: secondaryContact,
    Produit: nomProduit,
    NomAbattre: poulesAbattues || "Non spÃ©cifiÃ©", // Ajoutez une valeur par dÃ©faut si null
    traitement: traitement || "Non spÃ©cifiÃ©", // Par dÃ©faut, "Non spÃ©cifiÃ©" si aucune option n'est choisie
    typeAbattage: typeAbattage || "Non applicable", // Si pas d'abattage, indiquer "Non applicable"
    Residence: residence,
    location : AchtLocation
};

console.log('Order Data:', orderDetails);

envoyerDetailsCommande(orderDetails);

// Fonction pour envoyer les dÃ©tails de commande Ã  l'API
function envoyerDetailsCommande() {
   
    console.log('Order Data:', orderDetails);

    const loadingMessage = document.getElementById("loadingMessage1");
    loadingMessage.classList.remove("hidden1");

    fetch('https://farmsconnect.netlify.app/.netlify/functions/order', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(orderDetails)
    })
    .then(response => {
        if (response.ok) {
            return response.text();
        } else {
            throw new Error('Erreur lors de la commande');
        }
    })
    .then(data => {
        setTimeout(() => {
            loadingMessage.classList.add("hidden1");
            showAlert('Commande passÃ©e avec succÃ¨sâ€¯! Nous vous avons envoyÃ© un mail contenant les dÃ©tails de votre commande.');
            console.log(data);
        }, 3000);
    })
    .catch(error => {
        console.error('Erreur lors de la commande :', error);
        setTimeout(() => {
            loadingMessage.classList.add("hidden1");
            showAlert('Erreur lors de la commande.');
        }, 3000);
        showAlert('Erreur lors de la commande.');
    });
}

}





</script>


<script>
function showAlert(message) {
    const alertBox = document.getElementById("customAlert");
    const alertMessage = document.getElementById("alertMessage");

    alertMessage.textContent = message;
    alertBox.classList.add("visible"); // Ajoute la classe pour afficher l'alerte

    // Masque automatiquement aprÃ¨s 5 secondes
    setTimeout(() => closeAlert(), 10000);
}

function closeAlert() {
    const alertBox = document.getElementById("customAlert");
    alertBox.classList.remove("visible");
}




// SÃ©lectionne les Ã©lÃ©ments
const modal = document.getElementById('modal');
const openModalButton = document.querySelector('.open-modal-button');
const closeButton = document.querySelector('.close-button');

// Ouvre la fenÃªtre modale
openModalButton.addEventListener('click', function() {
    modal.classList.add('visible');
});

// Ferme la fenÃªtre modale
closeButton.addEventListener('click', function() {
    modal.classList.remove('visible');
});

// Ferme la fenÃªtre modale si l'utilisateur clique en dehors de celle-ci
window.addEventListener('click', function(event) {
    if (event.target === modal) {
        modal.classList.remove('visible');
    }
});






</script>


    <!-- Message des remises animÃ©es -->
    <div class="remise-message">
        Remises spÃ©ciales : 5% pour plus de 5 poules, 13% pour plus de 10 poules, et 24% pour plus de 20 poules ! 
    </div>
    
    

<section class="testimonials">
      
            <p><strong>ğŸ‘‰ Recommandez <strong>FarmsConnect</strong> Ã  vos proches pour acceder a des produit de qualitÃ©, certifier par un vÃ©terinaire , fiable , tracable et sÃ©curisÃ©e et au prix juste  !!!</strong></p>
        </div>    </div>
    </section>

<footer>
    <p>&copy; 2024 FarmsConnect. Tous droits rÃ©servÃ©s.</p>
</footer>

<script src="Produit.js"></script>

<div class="alert hidden" id="customAlert">
    <div class="alert-content">
        <img src="img/FarmsConnect.jpg" alt="FarmsConnect Logo" class="alert-image">
        <p id="alertMessage"></p>
        <button class="alert-close-button" onclick="closeAlert()">Ã—</button>
    </div>
</div>

</body>
</html>